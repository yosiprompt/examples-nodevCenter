<% layout('layout.html') -%>
<div class="container" ng-controller="postsController">
	<div class="well" ng-submit="sendPost(sender, msg)">
		<form name="msgForm" novalidate>
			<div class="form-group" ng-class="{ 'has-error' : msgForm.sender.$invalid && !msgForm.sender.$pristine }">
				<label for="sender">Name: </label>
				<input class="form-control" type="text" name="sender" ng-model="sender" required>
				<p ng-show="msgForm.sender.$invalid && !msgForm.sender.$pristine" class="help-block">You name is required.</p>
			</div>
			<div class="form-group" ng-class="{ 'has-error' : msgForm.msg.$invalid && !msgForm.msg.$pristine }">
				<label for="msg">Comment: </label>
				<textarea class="form-control" name="msg" id="msg" ng-model="msg" required></textarea>
				<p ng-show="msgForm.msg.$invalid && !msgForm.msg.$pristine" class="help-block">Comment is required.</p>
			</div>
			<input class="btn btn-primary" ng-disabled="msgForm.$invalid" type="submit" name="postButton" value="Send">
		</form>
	</div>
	<div class="comments">
		<div class="well" ng-repeat="post in posts | orderBy:'$index':true">
			<h4>{{post.name}}</h4>
			<hr>
			<p>{{post.comment}}</p>
			<footer>{{post.date_added}}</footer>
		</div>
	</div>
</div>
<script src="/js/posts.js"></script>